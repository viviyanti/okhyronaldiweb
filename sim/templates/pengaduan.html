{% extends "base.html" %}


{% block konten %}
<div class="jumbotron">

    <h3>Pengaduan</h3>
    <!--form pengaduan-->
    <form method="POST">
        {{form.hidden_tag()}}
        <div class="form-group">
            {{form.subjek.label(class="form-control-label")}}
            {% if form.subjek.errors %}
            {{form.subjek(class="form-control is-invalid")}}
            <div class="invalid-feedback">
                {% for error in form.subjek.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
            {{form.subjek(class="form-control")}}
            {% endif %}
        </div>

        <div class="form-group">
            {{form.kategori.label(class="form-control-label")}}
            {% if form.kategori.errors %}
            {{form.kategori(class="form-control is-invalid")}}
            <div class="invalid-feedback">
                {% for error in form.kategori.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
            {{form.kategori(class="form-control")}}
            {% endif %}
        </div>

        <div class="form-group">
            {{form.detail_pengaduan.label(class="form-control-label")}}
            {% if form.detail_pengaduan.errors %}
            {{form.detail_pengaduan(class="form-control is-invalid")}}
            <div class="invalid-feedback">
                {% for error in form.detail_pengaduan.errors %}
                <span>{{error}}</span>
                {% endfor %}
            </div>
            {% else %}
            {{form.detail_pengaduan(class="form-control")}}
            {% endif %}
        </div>

        <div class="form-group">
            {{form.submit(class="btn btn-primary")}}
        </div>
    </form>
    <hr class="my-4">
    <h4>Data Pengaduan</h4>


    <table class="table table-responsive table-hover">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Tgl</th>
                <th scope="col">Subjek</th>
                <th scope="col">Kategori</th>
                <th scope="col">Edit</th>
                <th scope="col">Hapus</th>
            </tr>
        </thead>
        <tbody>
            {% for data in dt_pengaduan%}
            <tr>
                <th scope="row"><a href="{{url_for('rmahasiswa.detail_pengaduan', ed_id=data.id)}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-capslock-fill" viewBox="0 0 16 16">
                            <path
                                d="M7.27 1.047a1 1 0 0 1 1.46 0l6.345 6.77c.6.638.146 1.683-.73 1.683H11.5v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1H1.654C.78 9.5.326 8.455.924 7.816L7.27 1.047zM4.5 13.5a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1h-5a1 1 0 0 1-1-1v-1z" />
                        </svg>
                    </a></th>
                <td>{{data.tgl_post}}</td>
                <td>{{data.subjek}}</td>
                <td>{{data.kategori}}</td>
                <td><a href="{{url_for('rmahasiswa.update_pengaduan', ed_id=data.id)}}"
                        class="btn btn-outline-warning">Edit</a></td>
                <td><a href="delete/{{data.id}}" class="btn btn-outline-danger"
                        onclick="return confirm('anda yakin ingin menghapus data ini ?')">Hapus</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}